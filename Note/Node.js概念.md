# 基本概念

## 特性

1. 事件驱动
2. 非阻塞I/O
3. 单线程

### 单线程

Java/PHP等老牌后台语言，为每个连接（用户的行为）创建一个线程（2MB）

与之对比，Node为每一个连接注册一个内部事件，在一个线程中按照事件环（Event Loop）执行，宏观的角度来看，Node相当于并行处理事件环。

### 非阻塞I/O

Node不会因为I/O的等待而使得进程阻塞，它会在本应等待的时间（例如等待数据库相应）内去执行下一个事件。

从而产生一个问题：一个事件引发的崩溃，会使得程序无法执行后续操作。

### 事件驱动

实际就是一个事件环，从微观角度来看，Node在一个时刻只能执行一个事件。

其中需要注意的是：事件与回调互相不影响，回调操作会在事件环中排队（不仅是顺序排队，存在优先级来协助执行事件）。

*需要重新排队的任务：* I/O、网络通信、数据库操作

其余的普通计算任务不需要重新排队，会在loop到时立即执行。

## tips

1. Node.js 没有根目录概念，没有Web容器
> 让node提供静态服务非常难 ==> 如果需要，需要自己写路由

```javascript
if (req.url == '/a') {
    fs.readFile('./1.html', (err, data) => {
        res.writeHead(200, {
            'Content-type': 'text/html;charset=UTF-8'
        });
        res.end('Hello World' + data);
    });
}
```

2. 